function J(j){let{time:z=60000,max:C=100,message:D="Rate limit exceeded. Please try again later."}=j,v=new Map;return(G)=>{let E=new Date,F=G.getIP().address;if(!v.has(F))v.set(F,{count:0,startTime:E});let A=v.get(F);if(A)if(E-A.startTime>z)A.count=1,A.startTime=E;else A.count++;if(A&&A.count>C)return G.json({error:D},429)}}function K(j){switch(j.split(".").pop()?.toLowerCase()){case"js":return"application/javascript";case"css":return"text/css";case"html":return"text/html";case"json":return"application/json";case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";case"svg":return"image/svg+xml";case"gif":return"image/gif";case"woff":return"font/woff";case"woff2":return"font/woff2";default:return"application/octet-stream"}}var H=(j,z,C,D)=>{if(C>D)return!1;let v=C+(D-C)/2;if(j[v]==z)return!0;if(j[v]>z)return H(j,z,C,v-1);return H(j,z,v+1,D)};export{K as getMimeType,J as default,H as binaryS};
