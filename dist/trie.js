class C{children;isEndOfWord;handler;isDynamic;pattern;path;method;subMiddlewares;constructor(){this.children={},this.isEndOfWord=!1,this.handler=[],this.isDynamic=!1,this.pattern="",this.path="",this.method=[],this.subMiddlewares=new Map}}class E{root;constructor(){this.root=new C}insert(w,j){let b=this.root,B=w.split("/").filter(Boolean);if(w==="/"){b.isEndOfWord=!0,b.handler.push(j.handler),b.path=w,b.method.push(j.method);return}for(let q of B){let A=!1,z=q;if(q.startsWith(":"))A=!0,z=":";if(!b.children[z])b.children[z]=new C;b=b.children[z],b.isDynamic=A,b.pattern=q,b.method.push(j.method),b.handler.push(j.handler),b.path=w}b.isEndOfWord=!0,b.method.push(j.method),b.handler.push(j.handler),b.path=w}search(w,j){let b=this.root,B=w.split("/").filter(Boolean);for(let A of B){let z=A;if(!b.children[z])if(b.children[":"])b=b.children[":"];else return null;else b=b.children[z]}let q=b.method.indexOf(j);if(q!==-1)return{path:b.path,handler:b.handler[q],isDynamic:b.isDynamic,pattern:b.pattern,method:b.method[q]};return{path:b.path,handler:b.handler,isDynamic:b.isDynamic,pattern:b.pattern,method:b.method[q]}}}export{E as default};
