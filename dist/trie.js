class E{children;isEndOfWord;handler;isDynamic;pattern;path;method;subMiddlewares;constructor(){this.children={},this.isEndOfWord=!1,this.handler=[],this.isDynamic=!1,this.pattern="",this.path="",this.method=[],this.subMiddlewares=new Map}}class G{root;constructor(){this.root=new E}insert(w,v){let j=this.root,A=w.split("/").filter(Boolean);if(w==="/"){j.isEndOfWord=!0,j.handler.push(v.handler),j.path=w,j.method.push(v.method);return}for(let z of A){let B=!1,q=z;if(z.startsWith(":"))B=!0,q=":";if(!j.children[q])j.children[q]=new E;j=j.children[q],j.isDynamic=B,j.pattern=z,j.method.push(v.method),j.handler.push(v.handler),j.path=w}j.isEndOfWord=!0,j.method.push(v.method),j.handler.push(v.handler),j.path=w}search(w,v){let j=this.root,A=w.split("/").filter(Boolean),z=A.length;for(let H of A){let F=H;if(!j.children[F])if(j.children[":"])j=j.children[":"];else return null;else j=j.children[F]}let B=j.path.split("/").filter(Boolean);if(z!==B.length)return null;let q=j.method.indexOf(v);if(q!==-1)return{path:j.path,handler:j.handler[q],isDynamic:j.isDynamic,pattern:j.pattern,method:j.method[q]};return{path:j.path,handler:j.handler,isDynamic:j.isDynamic,pattern:j.pattern,method:j.method[q]}}}export{G as default};
