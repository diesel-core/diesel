class E{children;isEndOfWord;handler;isDynamic;pattern;path;method;subMiddlewares;constructor(){this.children={},this.isEndOfWord=!1,this.handler=[],this.isDynamic=!1,this.pattern="",this.path="",this.method=[],this.subMiddlewares=new Map}}class F{root;constructor(){this.root=new E}insert(q,w){let b=this.root,z=q.split("/").filter(Boolean);if(q==="/"){b.isEndOfWord=!0,b.handler=[w.handler],b.path=q,b.method=[w.method];return}for(let j=0;j<z.length;j++){let A=z[j],B=!1,C=A;if(A.startsWith(":"))B=!0,C=":";if(!b.children[C])b.children[C]=new E;if(b=b.children[C],b.isDynamic=B,b.pattern=A,j===z.length-1)b.handler=[w.handler],b.method=[w.method],b.isEndOfWord=!0,b.path=q}}search(q,w){let b=this.root,z=q.split("/").filter(Boolean);for(let A of z){let B=A;if(!b.children[B])if(b.children[":"])b=b.children[":"];else return null;else b=b.children[B]}let j=b.method.indexOf(w);if(b.isEndOfWord&&j!==-1)return{path:b.path,handler:b.handler[j],isDynamic:b.isDynamic,pattern:b.pattern,method:b.method[j]};return null}}export{F as default};
